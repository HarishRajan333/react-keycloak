[{"/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/index.js":"1","/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/App.js":"2","/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/reportWebVitals.js":"3","/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/Home.jsx":"4","/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/Login.jsx":"5","/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/login.jsx":"6","/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/AdminSecureRoute.js":"7","/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/AdminPanel.jsx":"8"},{"size":1492,"mtime":1689106584251,"results":"9","hashOfConfig":"10"},{"size":1232,"mtime":1689107337136,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1688993922463,"results":"12","hashOfConfig":"10"},{"size":382,"mtime":1689097608213,"results":"13","hashOfConfig":"10"},{"size":968,"mtime":1689070187954,"results":"14","hashOfConfig":"10"},{"size":766,"mtime":1689102310579,"results":"15","hashOfConfig":"10"},{"size":520,"mtime":1689142432858,"results":"16","hashOfConfig":"10"},{"size":3091,"mtime":1689160187975,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","suppressedMessages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},"1tiv4r",{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"21"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"21"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"21"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"21"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/index.js",[],[],[],"/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/App.js",["47","48","49","50","51"],[],"import logo from \"./logo.svg\";\nimport \"./App.css\";\n// import { ReactKeycloakProvider } from \"@react-keycloak/web\";\nimport Home from \"./Home\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport { createContext, useEffect, useState } from \"react\";\nimport Login from \"./login\";\nimport SecuedRoute from \"./AdminSecureRoute\";\nimport AdminPanel from \"./AdminPanel\";\n\nexport const UserContext = createContext();\n\nfunction App({ keycloak, logout, roles }) {\n  useEffect(() => {\n    console.log(keycloak);\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <UserContext.Provider value={{ keycloak, logout, roles }}>\n          <Routes>\n            <Route\n              path=\"/admin\"\n              element={\n                <SecuedRoute>\n                  <AdminPanel />\n                </SecuedRoute>\n              }\n            />\n            <Route\n              path=\"/home\"\n              element={\n                <div>\n                  <h1>welcome</h1>\n                  <button onClick={() => logout()}>logout</button>\n                </div>\n              }\n            />\n          </Routes>\n        </UserContext.Provider>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/reportWebVitals.js",[],[],"/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/Home.jsx",["52","53"],[],"import React from \"react\";\n// import { useKeycloak } from \"@react-keycloak/web\";\nimport Login from \"./login\";\nimport Log from \"./login\";\n\nconst Home = ({ children }) => {\n  // const { keycloak, initialized } = useKeycloak();\n\n  // if (!keycloak.authenticated) {\n  //   console.log(keycloak);\n  //   return <Login />;\n  // }\n\n  return <div>{children}</div>;\n};\n\nexport default Home;\n","/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/Login.jsx",[],[],"/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/login.jsx",["54"],[],"import Keycloak from \"keycloak-js\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nlet initOptions = {\n  url: \"http://localhost:8080/\",\n  realm: \"bassure\",\n  clientId: \"ats-react\",\n};\n\nconst Login = ({children}) => {\n  const [keycloak, setKeycloak] = useState(null);\n  const [authenticated, setAuthenticated] = useState(false);\n\n  useEffect(() => {\n    let keycloak = new Keycloak(initOptions);\n    keycloak.init({ onLoad: \"login-required\" }).then((authenticated) => {\n      setKeycloak(keycloak);\n      setAuthenticated(authenticated);\n    });\n  }, []);\n\n  if (keycloak) {\n    if (authenticated) return <div>{children}</div>;\n    else return <div></div>;\n  }\n\n  return <div>loading...</div>;\n};\n\nexport default Login;\n","/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/AdminSecureRoute.js",["55"],[],"import { useContext, useEffect, useState } from \"react\";\nimport { UserContext } from \"./App\";\n\nconst SecuedRoute = ({ children }) => {\n  const { roles, logout } = useContext(UserContext);\n  const [access, setAccess] = useState(false);\n\n  useEffect(() => {\n    if (roles?.includes(\"admin\")) {\n      setAccess(true);\n    }\n  }, []);\n\n  return access ? (\n    <>{children}</>\n  ) : (\n    <div>\n      <h1>not allowed</h1>\n      <button onClick={() => logout()}>logout</button>\n    </div>\n  );\n};\n\nexport default SecuedRoute;\n","/home/bassure/Desktop/New Folder/reactProjects/react-keycloak/src/AdminPanel.jsx",["56","57"],[],{"ruleId":"58","severity":1,"message":"59","line":1,"column":8,"nodeType":"60","messageId":"61","endLine":1,"endColumn":12},{"ruleId":"58","severity":1,"message":"62","line":4,"column":8,"nodeType":"60","messageId":"61","endLine":4,"endColumn":12},{"ruleId":"58","severity":1,"message":"63","line":6,"column":36,"nodeType":"60","messageId":"61","endLine":6,"endColumn":44},{"ruleId":"58","severity":1,"message":"64","line":7,"column":8,"nodeType":"60","messageId":"61","endLine":7,"endColumn":13},{"ruleId":"65","severity":1,"message":"66","line":16,"column":6,"nodeType":"67","endLine":16,"endColumn":8,"suggestions":"68"},{"ruleId":"58","severity":1,"message":"64","line":3,"column":8,"nodeType":"60","messageId":"61","endLine":3,"endColumn":13},{"ruleId":"58","severity":1,"message":"69","line":4,"column":8,"nodeType":"60","messageId":"61","endLine":4,"endColumn":11},{"ruleId":"58","severity":1,"message":"70","line":3,"column":10,"nodeType":"60","messageId":"61","endLine":3,"endColumn":21},{"ruleId":"65","severity":1,"message":"71","line":12,"column":6,"nodeType":"67","endLine":12,"endColumn":8,"suggestions":"72"},{"ruleId":"58","severity":1,"message":"73","line":1,"column":22,"nodeType":"60","messageId":"61","endLine":1,"endColumn":31},{"ruleId":"58","severity":1,"message":"74","line":13,"column":16,"nodeType":"60","messageId":"61","endLine":13,"endColumn":23},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Home' is defined but never used.","'useState' is defined but never used.","'Login' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'keycloak'. Either include it or remove the dependency array.","ArrayExpression",["75"],"'Log' is defined but never used.","'useNavigate' is defined but never used.","React Hook useEffect has a missing dependency: 'roles'. Either include it or remove the dependency array.",["76"],"'useEffect' is defined but never used.","'setData' is assigned a value but never used.",{"desc":"77","fix":"78"},{"desc":"79","fix":"80"},"Update the dependencies array to be: [keycloak]",{"range":"81","text":"82"},"Update the dependencies array to be: [roles]",{"range":"83","text":"84"},[523,525],"[keycloak]",[326,328],"[roles]"]